(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{363:(e,t,a)=>{"use strict";a.d(t,{d7:()=>n});var r=a(7620);function s(e,t){return e===t}function n(e,t,a){var n=a&&a.equalityFn||s,l=(0,r.useRef)(e),c=(0,r.useState)({})[1],i=function(e,t,a,s){var n=this,l=(0,r.useRef)(null),c=(0,r.useRef)(0),i=(0,r.useRef)(0),u=(0,r.useRef)(null),o=(0,r.useRef)([]),d=(0,r.useRef)(),h=(0,r.useRef)(),m=(0,r.useRef)(e),p=(0,r.useRef)(!0);m.current=e;var x="undefined"!=typeof window,f=!t&&0!==t&&x;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var y=!!(a=a||{}).leading,j=!("trailing"in a)||!!a.trailing,v="maxWait"in a,b="debounceOnServer"in a&&!!a.debounceOnServer,g=v?Math.max(+a.maxWait||0,t):null;return(0,r.useEffect)(function(){return p.current=!0,function(){p.current=!1}},[]),(0,r.useMemo)(function(){var e=function(e){var t=o.current,a=d.current;return o.current=d.current=null,c.current=e,i.current=i.current||e,h.current=m.current.apply(a,t)},a=function(e,t){f&&cancelAnimationFrame(u.current),u.current=f?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!p.current)return!1;var a=e-l.current;return!l.current||a>=t||a<0||v&&e-c.current>=g},N=function(t){return u.current=null,j&&o.current?e(t):(o.current=d.current=null,h.current)},k=function e(){var s=Date.now();if(y&&i.current===c.current&&w(),r(s))return N(s);if(p.current){var n=t-(s-l.current);a(e,v?Math.min(n,g-(s-c.current)):n)}},w=function(){s&&s({})},A=function(){if(x||b){var s=Date.now(),i=r(s);if(o.current=[].slice.call(arguments),d.current=n,l.current=s,i){if(!u.current&&p.current)return c.current=l.current,a(k,t),y?e(l.current):h.current;if(v)return a(k,t),e(l.current)}return u.current||a(k,t),h.current}};return A.cancel=function(){u.current&&(f?cancelAnimationFrame(u.current):clearTimeout(u.current)),c.current=0,o.current=l.current=d.current=u.current=null},A.isPending=function(){return!!u.current},A.flush=function(){return u.current?N(Date.now()):h.current},A},[y,v,t,g,j,f,x,b,s])}((0,r.useCallback)(function(e){l.current=e,c({})},[c]),t,a,c),u=(0,r.useRef)(e);return n(u.current,e)||(i(e),u.current=e),[l.current,i]}},702:(e,t,a)=>{e.exports=a(3755)},2942:(e,t,a)=>{"use strict";var r=a(2418);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}}),a.o(r,"useSelectedLayoutSegments")&&a.d(t,{useSelectedLayoutSegments:function(){return r.useSelectedLayoutSegments}})},3319:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},3367:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},3755:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return n}});let r=a(7620),s=a(9208);function n(){return(0,r.useContext)(s.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3872:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4110:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(4568),s=a(7620),n=a(2222),l=a(2942),c=a(7717),i=a(818),u=a(7227),o=a(3353),d=a(5165),h=a(2555),m=a(4675),p=a(9594),x=a(5774),f=a(3319),y=a(5945),j=a(8276),v=a(7277);let b=c.Ik({recipientName:c.Yj().min(2,"Name must be at least 2 characters"),recipientEmail:c.Yj().email("Please enter a valid email address"),recipientPhone:c.Yj().min(10,"Please enter a valid phone number"),payoutMethod:c.k5(["bank_account","mobile_wallet","cash_pickup","debit_card"],{message:"Please select a payout method"}),payoutDetails:c.Ik({bankName:c.Yj().optional(),accountNumber:c.Yj().optional(),routingNumber:c.Yj().optional(),walletProvider:c.Yj().optional(),walletNumber:c.Yj().optional(),pickupLocation:c.Yj().optional()}).optional()});function g(e){let{transferData:t,onBack:a,onContinue:n}=e,c=(0,l.useRouter)(),[g,N]=(0,s.useState)(""),[k,w]=(0,s.useState)(""),[A,C]=(0,s.useState)(""),[S,M]=(0,s.useState)(""),[P,D]=(0,s.useState)(""),[R,_]=(0,s.useState)(""),[T,L]=(0,s.useState)(""),[F,I]=(0,s.useState)(""),[E,O]=(0,s.useState)(""),[q,W]=(0,s.useState)(""),[z,B]=(0,s.useState)(!1),[U,J]=(0,s.useState)(null),[V,Y]=(0,s.useState)({}),Z=async e=>{if(e.preventDefault(),Y({}),J(null),"bank_account"!==S)return void J("Currently only bank account transfers are supported. Please select bank account.");if(!g||!k||!P||!R||!T)return void J("Please fill in all required fields for bank account transfer.");if(n){B(!0);try{n({name:g,email:k,bankAccount:{iban:R,bic:T,bankName:P,accountHolderName:g,country:"DE"}})}catch(e){J("Failed to process recipient information. Please try again."),console.error("Recipient processing error:",e)}finally{B(!1)}return}let a={recipientName:g,recipientEmail:k,recipientPhone:A,payoutMethod:S,payoutDetails:{bankName:P||void 0,accountNumber:R||void 0,routingNumber:T||void 0,walletProvider:F||void 0,walletNumber:E||void 0,pickupLocation:q||void 0}};try{b.parse(a)}catch(e){if(e instanceof i.G){let t={};e.issues.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),Y(t);return}}B(!0);try{let e=await fetch("".concat("http://localhost:4000","/api/transfers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t.amount,sourceCurrency:t.sourceCurrency,destCurrency:t.destCurrency,recipientName:g,recipientEmail:k,recipientPhone:A,payoutMethod:S,payoutDetails:a.payoutDetails})});if(!e.ok)throw Error("Failed to create transfer");let r=await e.json();c.push("/pay/".concat(r.transactionId,"?clientSecret=").concat(r.clientSecret))}catch(e){J("Failed to create transfer. Please try again."),console.error("Transfer creation error:",e)}finally{B(!1)}};return(0,r.jsxs)(o.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Recipient Information"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Who are you sending ",t.amount," ",t.sourceCurrency," to?"]})]}),(0,r.jsxs)("form",{onSubmit:Z,children:[(0,r.jsxs)(o.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Transfer Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"You Send:"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.amount," ",t.sourceCurrency]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"They Receive:"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.recipientAmount," ",t.destCurrency]})]}),(0,r.jsxs)("div",{className:"flex justify-between col-span-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Exchange Rate:"}),(0,r.jsxs)("span",{className:"font-medium",children:["1 ",t.sourceCurrency," = ",t.rate.toFixed(4)," ",t.destCurrency]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Recipient Details"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"recipient-name",children:"Full Name *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(d.p,{id:"recipient-name",placeholder:"Enter recipient's full name",className:"pl-10",value:g,onChange:e=>N(e.target.value)})]}),V.recipientName&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:V.recipientName})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"recipient-email",children:"Email Address *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(d.p,{id:"recipient-email",type:"email",placeholder:"recipient@example.com",className:"pl-10",value:k,onChange:e=>w(e.target.value)})]}),V.recipientEmail&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:V.recipientEmail})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"recipient-phone",children:"Phone Number *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(d.p,{id:"recipient-phone",type:"tel",placeholder:"+1 (555) 123-4567",className:"pl-10",value:A,onChange:e=>C(e.target.value)})]}),V.recipientPhone&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:V.recipientPhone})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"How should they receive the money?"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"payout-method",children:"Payout Method *"}),(0,r.jsxs)(m.l6,{value:S,onValueChange:M,children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"Select payout method"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"bank_account",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Bank Account"})]})}),(0,r.jsx)(m.eb,{value:"mobile_wallet",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Mobile Wallet"})]})}),(0,r.jsx)(m.eb,{value:"cash_pickup",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Cash Pickup"})]})}),(0,r.jsx)(m.eb,{value:"debit_card",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Debit Card"})]})})]})]}),V.payoutMethod&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:V.payoutMethod})]}),S&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Payout Details"}),(()=>{switch(S){case"bank_account":return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"bank-name",children:"Bank Name"}),(0,r.jsx)(d.p,{id:"bank-name",placeholder:"e.g., Chase Bank",value:P,onChange:e=>D(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"account-number",children:"Account Number"}),(0,r.jsx)(d.p,{id:"account-number",placeholder:"Account number",value:R,onChange:e=>_(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"routing-number",children:"Routing Number"}),(0,r.jsx)(d.p,{id:"routing-number",placeholder:"Routing number",value:T,onChange:e=>L(e.target.value)})]})]});case"mobile_wallet":return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"wallet-provider",children:"Wallet Provider"}),(0,r.jsxs)(m.l6,{value:F,onValueChange:I,children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"Select wallet provider"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"paypal",children:"PayPal"}),(0,r.jsx)(m.eb,{value:"venmo",children:"Venmo"}),(0,r.jsx)(m.eb,{value:"cashapp",children:"Cash App"}),(0,r.jsx)(m.eb,{value:"zelle",children:"Zelle"}),(0,r.jsx)(m.eb,{value:"pix",children:"PIX (Brazil)"}),(0,r.jsx)(m.eb,{value:"paym",children:"Paym (UK)"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"wallet-number",children:"Wallet ID / Phone Number"}),(0,r.jsx)(d.p,{id:"wallet-number",placeholder:"Wallet ID or phone number",value:E,onChange:e=>O(e.target.value)})]})]});case"cash_pickup":return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h.J,{htmlFor:"pickup-location",children:"Pickup Location"}),(0,r.jsxs)(m.l6,{value:q,onValueChange:W,children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"Select pickup location"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"western_union",children:"Western Union"}),(0,r.jsx)(m.eb,{value:"moneygram",children:"MoneyGram"}),(0,r.jsx)(m.eb,{value:"ria",children:"Ria Money Transfer"}),(0,r.jsx)(m.eb,{value:"remitly",children:"Remitly"}),(0,r.jsx)(m.eb,{value:"worldremit",children:"WorldRemit"})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["The recipient will receive a pickup code via SMS and can collect cash at any ",null==q?void 0:q.replace("_"," ")," location."]})})]});case"debit_card":return(0,r.jsx)("div",{className:"bg-green-50 p-3 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-green-700",children:"Funds will be sent directly to the recipient's debit card. No additional details required."})});default:return null}})()]})]}),U&&(0,r.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:U})]}),(0,r.jsxs)(o.wL,{className:"flex justify-between",children:[(0,r.jsxs)(u.$,{type:"button",variant:"outline",onClick:a,disabled:z,children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,r.jsx)(u.$,{type:"submit",disabled:z||!g||!k||!A||!S,children:z?"Creating Transfer...":(0,r.jsxs)(r.Fragment,{children:["Continue to Payment",(0,r.jsx)(v.A,{className:"ml-2 h-4 w-4"})]})})]})]})]})}var N=a(7466),k=a(8477),w=a(6682),A=a(3129),C=a(9690);function S(e){let{initialStep:t="calculator",onComplete:a,className:l="",recipientUser:c,selectedPaymentMethod:i,transferType:d="legacy"}=e,[h,m]=(0,s.useState)({currentStep:t,transferData:null,recipientData:null,recipientUser:c||null,selectedPaymentMethod:i||null,transferType:d,transferId:null,completedSteps:[],canGoBack:!1,isLoading:!1,error:null}),p=(0,s.useCallback)(e=>{m(t=>({...t,...e}))},[]),x=(0,s.useCallback)(e=>{p({currentStep:e,canGoBack:"calculator"!==e,error:null})},[p]),f=(0,s.useCallback)(()=>{let e=["calculator","recipient","payment","status"],t=e.indexOf(h.currentStep);t>0&&x(e[t-1])},[h.currentStep,x]),y=(0,s.useCallback)(e=>{m(t=>({...t,completedSteps:t.completedSteps.includes(e)?t.completedSteps:[...t.completedSteps,e]}))},[]),v=(0,s.useCallback)(e=>{p({transferData:{sendAmount:e.sendAmount,receiveAmount:e.receiveAmount,sendCurrency:"USD",receiveCurrency:"EUR",exchangeRate:e.exchangeRate,fees:e.fees,rateId:e.rateId,rateValidUntil:"",calculatorMode:e.calculatorMode,breakdown:{sendAmountUSD:e.sendAmount,fees:{cardProcessing:0,transfer:0,payout:0,total:e.fees},netAmountUSD:e.sendAmount-e.fees,exchangeRate:e.exchangeRate,receiveAmount:e.receiveAmount},estimatedArrival:""},isLoading:!0}),y("calculator"),setTimeout(()=>{p({isLoading:!1}),x("recipient")},500)},[p,y,x]),b=(0,s.useCallback)(()=>{f()},[f]),S=(0,s.useCallback)(e=>{p({recipientData:e,isLoading:!0}),y("recipient"),setTimeout(()=>{p({isLoading:!1}),x("payment")},500)},[p,y,x]),M=(0,s.useCallback)(async e=>{p({isLoading:!0});try{var t,r;let s=await fetch("".concat("http://localhost:4000","/api/transfers/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendAmount:null==(t=h.transferData)?void 0:t.sendAmount,rateId:null==(r=h.transferData)?void 0:r.rateId,cardDetails:e.cardDetails,recipientInfo:h.recipientData})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||"Failed to create transfer")}let n=await s.json();y("payment"),p({transferId:n.transferId,isLoading:!1}),x("status"),a&&a(n.transferId)}catch(e){console.error("Transfer creation error:",e),p({error:e instanceof Error?e.message:"Failed to create transfer",isLoading:!1})}},[h.transferData,h.recipientData,p,y,x,a]),P=(0,s.useCallback)(e=>{y("payment"),p({transferId:e,isLoading:!1}),x("status"),a&&a(e)},[y,p,x,a]),D=(0,s.useCallback)(e=>{p({error:e,isLoading:!1})},[p]),R=(0,s.useCallback)(()=>{f()},[f]),_=(0,s.useCallback)(()=>{console.log("Status refresh requested")},[]),T=(0,s.useCallback)(()=>{m({currentStep:"calculator",transferData:null,recipientData:null,transferId:null,completedSteps:[],canGoBack:!1,isLoading:!1,error:null})},[]);return(0,r.jsx)(A.A,{requireVerification:!1,skipCheckOnPublicPages:!1,blockTransfersUntilVerified:!0,children:(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6 ".concat(l),children:[(0,r.jsx)(w.Z,{currentStep:h.currentStep,completedSteps:h.completedSteps,onStepClick:e=>{(h.completedSteps.includes(e)||e===h.currentStep)&&x(e)}}),h.canGoBack&&"status"!==h.currentStep&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)(u.$,{variant:"outline",onClick:f,disabled:h.isLoading,className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),"Back"]})}),h.error&&(0,r.jsx)(o.Zp,{className:"border-red-200 bg-red-50",children:(0,r.jsxs)(o.Wu,{className:"py-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,r.jsx)(C.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium",children:"Error"})]}),(0,r.jsx)("p",{className:"text-red-600 mt-1",children:h.error}),(0,r.jsx)(u.$,{variant:"outline",size:"sm",onClick:()=>p({error:null}),className:"mt-2",children:"Dismiss"})]})}),(0,r.jsxs)("div",{className:"relative",children:[h.isLoading&&(0,r.jsx)("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-center rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Processing..."})]})}),(()=>{switch(h.currentStep){case"calculator":return(0,r.jsx)(n.W,{onContinue:v,isNavigating:h.isLoading});case"recipient":if(!h.transferData)return(0,r.jsx)(o.Zp,{className:"w-full max-w-lg mx-auto",children:(0,r.jsxs)(o.Wu,{className:"py-8 text-center",children:[(0,r.jsx)(C.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Missing Transfer Data"}),(0,r.jsx)("p",{className:"text-red-600 mb-4",children:"Please complete the calculator step first."}),(0,r.jsx)(u.$,{onClick:()=>x("calculator"),variant:"outline",children:"Go to Calculator"})]})});return(0,r.jsx)(g,{transferData:{amount:h.transferData.sendAmount,sourceCurrency:h.transferData.sendCurrency,destCurrency:h.transferData.receiveCurrency,rate:h.transferData.exchangeRate,recipientAmount:h.transferData.receiveAmount},onBack:b,onContinue:S});case"payment":if(!h.transferData)return(0,r.jsx)(o.Zp,{className:"w-full max-w-lg mx-auto",children:(0,r.jsxs)(o.Wu,{className:"py-8 text-center",children:[(0,r.jsx)(C.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Missing Required Data"}),(0,r.jsx)("p",{className:"text-red-600 mb-4",children:"Please complete the calculator step first."}),(0,r.jsx)(u.$,{onClick:()=>x("calculator"),variant:"outline",children:"Start Over"})]})});if("user_to_user"===h.transferType&&h.recipientUser&&h.selectedPaymentMethod)return(0,r.jsx)(N.d,{transferData:h.transferData,recipientUser:h.recipientUser,selectedPaymentMethod:h.selectedPaymentMethod,onSuccess:P,onBack:R,onError:D,isLoading:h.isLoading});if(!h.recipientData)return(0,r.jsx)(o.Zp,{className:"w-full max-w-lg mx-auto",children:(0,r.jsxs)(o.Wu,{className:"py-8 text-center",children:[(0,r.jsx)(C.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Missing Recipient Data"}),(0,r.jsx)("p",{className:"text-red-600 mb-4",children:"Please complete the recipient step first."}),(0,r.jsx)(u.$,{onClick:()=>x("recipient"),variant:"outline",children:"Go to Recipient Step"})]})});return(0,r.jsx)(N.n,{sendAmount:h.transferData.sendAmount,receiveAmount:h.transferData.receiveAmount,exchangeRate:h.transferData.exchangeRate,fees:h.transferData.fees,rateId:h.transferData.rateId,onSubmit:M,isLoading:h.isLoading});case"status":if(!h.transferId)return(0,r.jsx)(o.Zp,{className:"w-full max-w-lg mx-auto",children:(0,r.jsxs)(o.Wu,{className:"py-8 text-center",children:[(0,r.jsx)(C.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"No Transfer Found"}),(0,r.jsx)("p",{className:"text-red-600 mb-4",children:"Transfer ID is missing."}),(0,r.jsx)(u.$,{onClick:T,variant:"outline",children:"Start New Transfer"})]})});return(0,r.jsx)(k.Y,{transferId:h.transferId,onRefresh:_,autoRefresh:!0});default:return(0,r.jsx)(o.Zp,{className:"w-full max-w-lg mx-auto",children:(0,r.jsxs)(o.Wu,{className:"py-8 text-center",children:[(0,r.jsx)(C.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Unknown Step"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["Invalid step: ",h.currentStep]}),(0,r.jsx)(u.$,{onClick:T,variant:"outline",children:"Start Over"})]})})}})()]}),!1]})})}function M(){return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Transfer Flow Test"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Testing the multi-step transfer flow container"})]}),(0,r.jsx)(S,{initialStep:"calculator",onComplete:e=>{console.log("Transfer completed with ID:",e)}})]})})}},4529:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4673:(e,t,a)=>{Promise.resolve().then(a.bind(a,4110))},6181:(e,t,a)=>{"use strict";a.d(t,{PromisifiedAuthProvider:()=>i,d:()=>u});var r=a(7807),s=a(7575),n=a(702),l=a(7620);let c=l.createContext(null);function i(e){let{authPromise:t,children:a}=e;return l.createElement(c.Provider,{value:t},a)}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.useRouter)(),a=l.useContext(c),i=a;return(a&&"then"in a&&(i=l.use(a)),"undefined"!=typeof window)?(0,r.As)({...i,...e}):t?(0,r.As)(e):(0,s.hP)({...i,...e})}},6678:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7001:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]])},7004:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]])},7277:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7469:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7575:(e,t,a)=>{"use strict";a.d(t,{T5:()=>s.T5,hP:()=>r.hP,nO:()=>s.nO,yC:()=>n});var r=a(7918),s=a(5797);function n(e,t,a){let s=t.path||(null==a?void 0:a.path);return"path"===(t.routing||(null==a?void 0:a.routing)||"path")?s?{...a,...t,routing:"path"}:r.sb.throw((0,r.kd)(e)):t.path?r.sb.throw((0,r.s7)(e)):{...a,...t,path:void 0}}},8262:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8421:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},8442:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},8521:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},9388:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},9513:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(8889).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[637,686,807,930,7,285,222,510,466,818,587,315,358],()=>t(4673)),_N_E=e.O()}]);