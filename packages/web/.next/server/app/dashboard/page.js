(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13049:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/faros/stealth-money/packages/web/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/faros/stealth-money/packages/web/src/app/dashboard/page.tsx","default")},15577:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(84667).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},16980:(e,s,t)=>{Promise.resolve().then(t.bind(t,65696))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23365:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(84667).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},26518:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(4627),a=t(55855);function n(...e){return(0,a.QP)((0,r.$)(e))}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29563:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>l,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>d});var r=t(13486);t(60159);var a=t(26518);function n({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function c({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}function d({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}},31461:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(84667).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},33873:e=>{"use strict";e.exports=require("path")},54394:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(84667).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63821:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(84667).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},65696:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(13486),a=t(89556),n=t(76123),i=t(60159),c=t(29563),l=t(74941),d=t(76353),o=t(26518);let x=(0,d.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m({className:e,variant:s,...t}){return(0,r.jsx)("div",{className:(0,o.cn)(x({variant:s}),e),...t})}var h=t(63821),u=t(23365),p=t(54394),g=t(15577),v=t(84667);let b=(0,v.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var f=t(31461),j=t(49989),y=t.n(j);let N=(0,v.A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),w=(0,v.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);function k(){let{user:e,isLoaded:s,isSignedIn:t}=(0,a.Jd)(),{getToken:d}=(0,n.d)(),[o,x]=(0,i.useState)(null),[h,u]=(0,i.useState)(!0),[p,v]=(0,i.useState)(null),b=(e,s)=>{let t=s&&3===s.length?s:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s?t?h?(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-6 flex items-center justify-center",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin mr-2"}),(0,r.jsx)("span",{children:"Loading account balance..."})]})}):p?(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,r.jsx)("p",{className:"text-red-600 mb-4",children:p}),(0,r.jsx)(l.$,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(c.Zp,{children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"flex items-center",children:[(0,r.jsx)(N,{className:"h-5 w-5 mr-2"}),"Your Stealth Money Account"]})}),(0,r.jsx)(c.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o?b(o.availableBalance,"USD"):"$0.00"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Available Balance"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:o?b(o.totalReceived,"USD"):"$0.00"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Received"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o?b(o.totalSent,"USD"):"$0.00"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Sent"})]})]})})]}),o&&o.recentReceived.length>0&&(0,r.jsxs)(c.Zp,{children:[(0,r.jsx)(c.aR,{children:(0,r.jsx)(c.ZB,{children:"Recent Money Received"})}),(0,r.jsx)(c.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:o.recentReceived.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,r.jsx)(w,{className:"h-4 w-4 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:b(e.amount,e.currency)}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["From: ",e.from]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:f(e.date)})]})]}),(0,r.jsx)(m,{className:"COMPLETED"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:e.status})]},e.id))})})]}),o&&0===o.recentReceived.length&&(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(w,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Money Received Yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"When someone sends you money through Stealth Money, it will appear here."}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,r.jsx)("p",{children:"Share your email address with senders to receive money:"}),(0,r.jsx)("p",{className:"font-mono bg-gray-100 p-2 rounded mt-2",children:e?.emailAddresses[0]?.emailAddress})]})]})})]}):(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(N,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Sign In to View Balance"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create an account to receive money and track your balance."})]})}):(0,r.jsx)(c.Zp,{children:(0,r.jsx)(c.Wu,{className:"p-6 flex items-center justify-center",children:(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin"})})})}function A(){let{user:e,isLoaded:s}=(0,a.Jd)(),{getToken:t}=(0,n.d)(),[d,o]=(0,i.useState)([]),[x,v]=(0,i.useState)(!0),[j,N]=(0,i.useState)(null),w=e=>{switch(e){case"COMPLETED":return(0,r.jsx)(h.A,{className:"h-4 w-4 text-green-500"});case"PROCESSING":case"PENDING_PAYMENT":return(0,r.jsx)(u.A,{className:"h-4 w-4 text-yellow-500"});case"FAILED":return(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500"});default:return(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-500"})}},A=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PROCESSING":case"PENDING_PAYMENT":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?e?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e.firstName||e.emailAddresses[0]?.emailAddress,"!"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your money transfers and track your account balance."})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(k,{})}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(c.Zp,{children:(0,r.jsx)(c.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Send Money"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create a new transfer to send money globally."})]}),(0,r.jsx)(y(),{href:"/",children:(0,r.jsxs)(l.$,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[(0,r.jsx)(b,{className:"h-4 w-4 mr-2"}),"New Transfer"]})})]})})})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Transfers"}),(0,r.jsxs)(m,{variant:"secondary",children:[d.length," total"]})]}),x?(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-8 flex items-center justify-center",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 animate-spin mr-2"}),(0,r.jsx)("span",{children:"Loading transactions..."})]})}):j?(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("p",{className:"text-red-600",children:j}),(0,r.jsx)(l.$,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:"Try Again"})]})}):0===d.length?(0,r.jsx)(c.Zp,{children:(0,r.jsxs)(c.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(f.A,{className:"h-12 w-12 mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No transfers yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Start by creating your first money transfer."}),(0,r.jsx)(y(),{href:"/",children:(0,r.jsxs)(l.$,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[(0,r.jsx)(b,{className:"h-4 w-4 mr-2"}),"Create Transfer"]})})]})}):(0,r.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,r.jsx)(c.Zp,{className:"hover:shadow-md transition-shadow",children:(0,r.jsx)(c.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[w(e.status),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsxs)("span",{className:"font-semibold",children:[e.amount," ",e.sourceCurrency]}),(0,r.jsx)(f.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsxs)("span",{className:"font-semibold",children:[e.recipientAmount," ",e.destCurrency]})]}),e.recipientName&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["To: ",e.recipientName,e.recipientEmail&&` (${e.recipientEmail})`]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:P(e.createdAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(m,{className:A(e.status),children:e.status.replace("_"," ")}),(0,r.jsx)(y(),{href:`/status/${e.id}`,children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"View Details"})})]})]})})},e.id))})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,r.jsx)(c.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(c.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Required"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your dashboard."}),(0,r.jsx)(y(),{href:"/auth/sign-in",children:(0,r.jsx)(l.$,{children:"Sign In"})})]})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,r.jsx)(g.A,{className:"h-8 w-8 animate-spin"})})}},73024:e=>{"use strict";e.exports=require("node:fs")},74941:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});var r=t(13486);t(60159);var a=t(90691),n=t(76353),i=t(26518);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:s,size:t,asChild:n=!1,...l}){let d=n?a.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,i.cn)(c({variant:s,size:t,className:e})),...l})}},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},80596:(e,s,t)=>{Promise.resolve().then(t.bind(t,13049))},81784:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=t(24332),a=t(48819),n=t(67851),i=t.n(n),c=t(97540),l={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(s,l);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13049)),"/home/faros/stealth-money/packages/web/src/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,39227)),"/home/faros/stealth-money/packages/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,87239)),"/home/faros/stealth-money/packages/web/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/home/faros/stealth-money/packages/web/src/app/dashboard/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[620,795,927,208],()=>t(81784));module.exports=r})();