(()=>{var e={};e.id=123,e.ids=[123],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7720:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var r=s(24332),a=s(48819),n=s(67851),i=s.n(n),c=s(97540),l={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(t,l);let o={children:["",{children:["status",{children:["[transactionId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,89577)),"/home/faros/stealth-money/packages/web/src/app/status/[transactionId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,39227)),"/home/faros/stealth-money/packages/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,87239)),"/home/faros/stealth-money/packages/web/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/faros/stealth-money/packages/web/src/app/status/[transactionId]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/status/[transactionId]/page",pathname:"/status/[transactionId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23365:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},26518:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(4627),a=s(55855);function n(...e){return(0,a.QP)((0,r.$)(e))}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29563:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>l,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>o});var r=s(13486);s(60159);var a=s(26518);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function c({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},31461:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},33873:e=>{"use strict";e.exports=require("path")},59203:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61670:(e,t,s)=>{Promise.resolve().then(s.bind(s,73891))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63821:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},73024:e=>{"use strict";e.exports=require("node:fs")},73891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(13486),a=s(2984),n=s(60159),i=s(87038),c=s(81453),l=s(29563),o=s(74941),d=s(23365),u=s(63821),m=s(59203),p=s(86e3),x=s(31461);(0,c.c)("pk_test_51RlJ5nCGmh60X4m8qsrnQimLT3EtLlSmBkFIK7LEJA8nfHlrW9dennXCp7Ab8lQmwzKG5fStlBb6AxAHKAGEU0Ck00hK2n5P3z");let h=e=>fetch(e).then(e=>{if(!e.ok)throw Error("Failed to fetch transaction");return e.json()}),f=e=>{let t=[{id:"payment",title:"Payment Received",description:"Your payment has been confirmed",statuses:["PAID","PROCESSING","FUNDS_SENT_TO_PARTNER","COMPLETED"]},{id:"processing",title:"Processing",description:"We are processing your transfer",statuses:["PROCESSING","FUNDS_SENT_TO_PARTNER","COMPLETED"]},{id:"blockchain",title:"Funds Released",description:"Funds have been sent to our partner",statuses:["FUNDS_SENT_TO_PARTNER","COMPLETED"]},{id:"completed",title:"Completed",description:"Transfer completed successfully",statuses:["COMPLETED"]}];return t.map(s=>({...s,completed:s.statuses.includes(e),active:s.statuses.includes(e)&&!t.find(r=>r.statuses.includes(e)&&t.indexOf(r)>t.indexOf(s))}))},g=e=>({PENDING_PAYMENT:{color:"text-yellow-600 bg-yellow-50 border-yellow-200",icon:d.A,message:"Waiting for payment confirmation"},PAID:{color:"text-blue-600 bg-blue-50 border-blue-200",icon:u.A,message:"Payment confirmed, processing transfer"},PROCESSING:{color:"text-blue-600 bg-blue-50 border-blue-200",icon:m.A,message:"Processing your transfer"},FUNDS_SENT_TO_PARTNER:{color:"text-green-600 bg-green-50 border-green-200",icon:u.A,message:"Funds sent to our payout partner"},COMPLETED:{color:"text-green-600 bg-green-50 border-green-200",icon:u.A,message:"Transfer completed successfully"},FAILED:{color:"text-red-600 bg-red-50 border-red-200",icon:p.A,message:"Transfer failed - manual intervention required"}})[e]||{color:"text-gray-600 bg-gray-50 border-gray-200",icon:d.A,message:"Processing..."};function v(){let e=(0,a.useParams)(),t=(0,a.useSearchParams)(),s=e.transactionId,[c,v]=(0,n.useState)(!1),[b,y]=(0,n.useState)("completed");t.get("payment_intent"),t.get("payment_intent_client_secret"),t.get("redirect_status");let{data:j,error:N,isLoading:w,mutate:P}=(0,i.default)(s?`http://localhost:4000/api/transfers/${s}`:null,h,{refreshInterval:5e3,revalidateOnFocus:!0,revalidateOnReconnect:!0}),k=async()=>{v(!0),await P(),setTimeout(()=>v(!1),1e3)};if(w)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,r.jsx)(l.Zp,{className:"w-full max-w-2xl",children:(0,r.jsxs)(l.Wu,{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(m.A,{className:"h-8 w-8 animate-spin mr-3"}),(0,r.jsx)("span",{children:"Loading transfer details..."})]})})});if(N||!j)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,r.jsxs)(l.Zp,{className:"w-full max-w-2xl",children:[(0,r.jsxs)(l.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(p.A,{className:"h-8 w-8 text-red-600"})}),(0,r.jsx)(l.ZB,{className:"text-red-600",children:"Transfer Not Found"})]}),(0,r.jsxs)(l.Wu,{className:"text-center space-y-4",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["We couldn't find a transfer with ID: ",s]}),(0,r.jsx)(o.$,{onClick:()=>window.location.href="/",children:"Start New Transfer"})]})]})});let A=g(j.status),E=f(j.status),_=A.icon;return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Transfer Status"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track your money transfer in real-time"})]}),"confirmed"===b&&(0,r.jsx)(l.Zp,{className:"border-green-200 bg-green-50",children:(0,r.jsxs)(l.Wu,{className:"flex items-center p-4",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-green-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-green-800",children:"Payment Confirmed!"}),(0,r.jsx)("div",{className:"text-sm text-green-600",children:"Your payment was successful. Processing your transfer..."})]})]})}),(0,r.jsxs)(l.Zp,{className:"w-full",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(l.ZB,{className:"text-xl",children:["Sending ",j.amount," ",j.sourceCurrency," â†’ ",j.recipientAmount," ",j.destCurrency]}),(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:k,disabled:c,children:[(0,r.jsx)(m.A,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})]})}),(0,r.jsxs)(l.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:`flex items-center p-4 rounded-lg border ${A.color}`,children:[(0,r.jsx)(_,{className:"h-6 w-6 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:j.status.replace(/_/g," ")}),(0,r.jsx)("div",{className:"text-sm opacity-75",children:A.message})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"Progress Timeline"}),(0,r.jsx)("div",{className:"space-y-4",children:E.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[(0,r.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.completed?"bg-green-500 text-white":e.active?"bg-blue-500 text-white animate-pulse":"bg-gray-200 text-gray-400"}`,children:e.completed?(0,r.jsx)(u.A,{className:"h-4 w-4"}):e.active?(0,r.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(d.A,{className:"h-4 w-4"})}),t<E.length-1&&(0,r.jsx)("div",{className:`w-0.5 h-8 mt-2 ${e.completed?"bg-green-500":"bg-gray-200"}`})]}),(0,r.jsxs)("div",{className:"flex-1 pb-8",children:[(0,r.jsx)("div",{className:`font-medium ${e.completed?"text-green-700":e.active?"text-blue-700":"text-gray-500"}`,children:e.title}),(0,r.jsx)("div",{className:`text-sm ${e.completed?"text-green-600":e.active?"text-blue-600":"text-gray-400"}`,children:e.description})]})]},e.id))})]}),j.recipientName&&(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-800",children:"Recipient Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"Name:"}),(0,r.jsx)("span",{className:"font-medium",children:j.recipientName})]}),j.recipientEmail&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"Email:"}),(0,r.jsx)("span",{className:"font-medium",children:j.recipientEmail})]}),j.recipientPhone&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"Phone:"}),(0,r.jsx)("span",{className:"font-medium",children:j.recipientPhone})]}),j.payoutMethod&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"Payout Method:"}),(0,r.jsx)("span",{className:"font-medium capitalize",children:j.payoutMethod.replace("_"," ")})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Transaction Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,r.jsx)("span",{className:"font-mono text-xs",children:j.id})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Exchange Rate:"}),(0,r.jsxs)("span",{children:["1 ",j.sourceCurrency," = ",parseFloat(j.exchangeRate).toFixed(4)," ",j.destCurrency]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,r.jsx)("span",{children:new Date(j.createdAt).toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Last Updated:"}),(0,r.jsx)("span",{children:new Date(j.updatedAt).toLocaleString()})]})]})]}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 inline mr-1"}),"Updates automatically every 5 seconds"]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:(0,r.jsxs)(o.$,{onClick:()=>window.location.href="/",className:"flex-1",children:["Send Another Transfer",(0,r.jsx)(x.A,{className:"ml-2 h-4 w-4"})]})})]})]})]})})}},74941:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(13486);s(60159);var a=s(90691),n=s(76353),i=s(26518);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:s,asChild:n=!1,...l}){let o=n?a.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,i.cn)(c({variant:t,size:s,className:e})),...l})}},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78974:(e,t,s)=>{Promise.resolve().then(s.bind(s,89577))},79551:e=>{"use strict";e.exports=require("url")},81453:(e,t,s)=>{"use strict";s.d(t,{c:()=>v});var r,a="basil",n="https://js.stripe.com",i="".concat(n,"/").concat(a,"/stripe.js"),c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(n,'"]')),t=0;t<e.length;t++){var s,r=e[t];if(s=r.src,c.test(s)||l.test(s))return r}return null},d=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(s),s},u=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:t})},m=null,p=null,x=null,h=function(e,t,s){if(null===e)return null;var r,n=t[0].match(/^pk_test/),i=3===(r=e.version)?"v3":r;n&&i!==a&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return u(c,s),c},f=!1,g=function(){return r?r:r=(null!==m?m:(m=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var s,r=o();r?r&&null!==x&&null!==p&&(r.removeEventListener("load",x),r.removeEventListener("error",p),null==(s=r.parentNode)||s.removeChild(r),r=d(null)):r=d(null),x=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},p=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},r.addEventListener("load",x),r.addEventListener("error",p)}catch(e){t(e);return}})).catch(function(e){return m=null,Promise.reject(e)})).catch(function(e){return r=null,Promise.reject(e)})};Promise.resolve().then(function(){return g()}).catch(function(e){f||console.warn(e)});var v=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];f=!0;var r=Date.now();return g().then(function(e){return h(e,t,r)})}},86e3:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},89577:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/faros/stealth-money/packages/web/src/app/status/[transactionId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/faros/stealth-money/packages/web/src/app/status/[transactionId]/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[620,795,927,208],()=>s(7720));module.exports=r})();