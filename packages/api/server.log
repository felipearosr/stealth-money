
> api@1.0.0 dev
> ts-node-dev --respawn src/index.ts

[INFO] 23:31:01 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.8.3)
[dotenv@17.2.0] injecting env (22) from .env (tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`)
[dotenv@17.2.0] injecting env (0) from .env (tip: âš™ï¸  override existing env vars with { override: true })
Circle API configured for sandbox environment
ğŸ§ª Running in Circle SANDBOX environment
ğŸ” Database URL check: configured
âœ… Database pool initialized
ğŸ§ª Blockchain service initialized in MOCK mode
ğŸ” Stripe Secret Key check: sk_test_51RlJ5n...
ğŸ” Secret Key starts with sk_: true
ğŸ” Secret Key length: 107
âœ… Stripe service initialized
ğŸ” Stripe Secret Key check: sk_test_51RlJ5n...
ğŸ” Secret Key starts with sk_: true
ğŸ” Secret Key length: 107
âœ… Stripe service initialized
ğŸ” Database URL check: configured
âœ… Database pool initialized
ğŸ§ª Blockchain service initialized in MOCK mode
ğŸ” Stripe Secret Key check: sk_test_51RlJ5n...
ğŸ” Secret Key starts with sk_: true
ğŸ” Secret Key length: 107
âœ… Stripe service initialized
ğŸ” Database URL check: configured
âœ… Database pool initialized
ğŸ” Database URL check: configured
âœ… Database pool initialized
[32minfo[39m: Starting Stealth Money API {"blockchainMode":"mock","nodeEnv":"development","port":4000,"service":"stealth-money-api","timestamp":"2025-07-23T03:31:03.926Z"}
ğŸ” Database URL check: configured
âœ… Database pool initialized
ğŸ”Œ Testing database connection...
âœ… Database connection successful: { now: 2025-07-23T03:31:04.294Z }
ğŸ“Š Initializing database tables...
âœ… Added user_id column to transactions table
âœ… Added recipient_user_id column to transactions table
âœ… Added circle_payment_id column to transactions table
âœ… Added circle_transfer_id column to transactions table
âœ… Added circle_payout_id column to transactions table
âœ… Database table created/verified
âœ… Database ready!
ğŸš€ API server running on http://0.0.0.0:4000
ğŸ“ Health check: http://0.0.0.0:4000/health
ğŸ§ª Test endpoint: http://0.0.0.0:4000/test
âŒ Server error: Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}
